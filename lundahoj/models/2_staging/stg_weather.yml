

version: 2

models:
  - name: stg_weather
    description: "Clean, standardized hourly weather observations. Renames raw fields and keeps units explicit."
    columns:
      - name: date_hour_utc
        description: "Observation timestamp in UTC."
        tests: [not_null]

      - name: temperature_c
        description: "Air temperature in °C."
        tests:
          - dbt_utils.accepted_range:
              arguments:
                min_value: -50
                max_value: 60
                inclusive: true

      - name: precipitation_mm
        description: "Precipitation in millimeters during the hour."
        tests:
          - dbt_utils.accepted_range:
              arguments:
                min_value: 0
                max_value: 200
                inclusive: true

      - name: wind_speed_m_s
        description: "Wind speed in meters per second."
        tests:
          - dbt_utils.accepted_range:
              arguments:
                min_value: 0
                max_value: 60
                inclusive: true

      - name: humidity_pct
        description: "Relative humidity in percent."
        tests:
          - dbt_utils.accepted_range:
              arguments:
                min_value: 0
                max_value: 100
                inclusive: true

      - name: pressure_hpa
        description: "Atmospheric pressure in hPa."
        tests:
          - dbt_utils.accepted_range:
              arguments:
                min_value: 800
                max_value: 1100
                inclusive: true

      - name: cloud_cover_pct
        description: "Cloud cover in percent (0–100)."
        tests:
          - dbt_utils.accepted_range:
              arguments:
                min_value: 0
                max_value: 100
                inclusive: true